<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fund Nest</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="FundNest.css" />
  </head>

  <body>
    <div class="container">
      <div class="d-flex justify-content-between shadow-sm py-2">
        <!-- NavBar -->
        <nav class="navbar navbar-expand-lg navbar-light">
          <div class="container-fluid">
            <div class="d-flex gap-2">
              <img src="Images/logo.PNG" style="height: 2.5rem" />
              <a
                class="navbar-brand"
                href="index.html"
                style="font-size: x-large"
                >BRANDNEERS</a
              >
            </div>
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav">
                <!-- Other nav items -->
                <li class="nav-item">
                  <a
                    class="nav-link fw-semibold"
                    aria-current="page"
                    href="index.html"
                    >Home</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link fw-semibold" href="#aboutFundnest"
                    >About</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link fw-semibold" href="#blogs">Blogs</a>
                </li>
                <li class="nav-item" id="courseSection" style="display: none">
                  <a class="nav-link fw-semibold" href="Course.html">Courses</a>
                </li>
                <li class="nav-item" id="resourceSection" style="display: none">
                  <a class="nav-link fw-semibold" href="Resources.html"
                    >Resources</a
                  >
                </li>
                <li
                  class="nav-item"
                  id="consultUsSection"
                  style="display: none"
                >
                  <a
                    class="nav-link fw-semibold"
                    href="Consultancy.html"
                    id="consultLink"
                    >ConsultUs</a
                  >
                </li>
                <!-- Conditional nav items -->
                <li
                  class="nav-item fw-semibold"
                  id="entrepreneurIdea"
                  style="display: none"
                >
                  <a class="nav-link" href="EntrepreneurIdeas.html"
                    >Entrepreneur Ideas</a
                  >
                </li>
                <li
                  class="nav-item fw-semibold"
                  id="entrepreneurList"
                  style="display: none"
                >
                  <a class="nav-link" href="EntrepreneurPane.html"
                    >Entrepreneur List</a
                  >
                </li>
                <li
                  class="nav-item fw-semibold"
                  id="investorIdea"
                  style="display: none"
                >
                  <a class="nav-link" href="InvestorIdeas.html"
                    >Investor Ideas</a
                  >
                </li>
                <li
                  class="nav-item fw-semibold"
                  id="investorlist"
                  style="display: none"
                >
                  <a class="nav-link" href="InvestorPane.html">Investor List</a>
                </li>

                <buttton class="nav-item">
                  <a
                    class="nav-link rounded px-3 fw-semibold"
                    style="
                      margin-left: 28rem;
                      background-color: rgba(0, 0, 0, 0.13);
                    "
                    id="loginLink"
                    href="Login.html"
                    >Login</a
                  >
                </buttton>
              </ul>
            </div>
          </div>
        </nav>
        <!-- Profile dropdown -->
        <div
          class="dropdown mt-4"
          style="margin-right: 1rem"
          id="profileDropdown"
        >
          <a
            href="#"
            class="d-flex align-items-center link-dark text-decoration-none"
            id="profileDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="40"
              height="40"
              fill="currentColor"
              class="bi bi-person-circle"
              viewBox="0 0 16 16"
            >
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
              <path
                fill-rule="evenodd"
                d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"
              />
            </svg>
          </a>
          <ul class="dropdown-menu text-small shadow">
            <li class="nav-item" id="investorprofile" style="display: none">
              <a class="nav-link" href="InvestorProfilePage.html"
                >Your Profile</a
              >
            </li>
            <li class="nav-item" id="entrepreneurprofile" style="display: none">
              <a class="nav-link" href="EntrepreneurProfilePage.html"
                >Your Profile</a
              >
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li class="nav-item" id="mycourse" style="display: none">
              <a class="nav-link" href="Mycourse.html">My Course</a>
            </li>

            <li><hr class="dropdown-divider" /></li>

            <li class="nav-item">
              <a class="nav-link" href="wallet.html">Wallet</a>
            </li>
            <li><hr class="dropdown-divider" /></li>

            <li class="nav-item">
              <button class="nav-link" id="logoutLink" href="index.html">
                Log Out
              </button>
            </li>
          </ul>
        </div>
      </div>

      <div>
        <div
          class="d-flex flex-column align-items-center bg-primary text-white p-5 rounded-3 shadow-lg mx-auto"
          style="
            max-width: 100%;
            height: auto;
            background: linear-gradient(to bottom, #1753ef, #0d3089);
          "
        >
          <img
            class="rounded-circle border border-white"
            src="Images/dummy.png"
            alt="Profile Picture"
            style="width: 10rem; height: 10rem; border-width: 4px"
            id="Profile1"
          />
          <h2 class="mt-4" id="investorCompany"></h2>
          <span
            class="mt-2 px-5 py-2 bg-white text-primary rounded font-weight-medium"
            style="font-size: 1rem"
            id="investorRole"
          ></span>
          <p
            class="mt-4 text-center"
            style="font-size: 1.12rem"
            id="investorName"
          >
            ( Founder and Chief Executive at ABC Firms )
          </p>
        </div>
        <div class="d-flex flex-column align-items-center mt-3">
          <div
            class="row justify-content-center"
            style="width: -webkit-fill-available"
          >
            <div class="col-12 col-md-6 mt-3">
              <!-- Button -->
              <button
                id="expressInterestBtn"
                class="btn btn-outline-danger w-100"
                style="height: 3.1rem; position: relative"
                onclick="expressInterest()"
              >
                <span id="buttonText">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-megaphone-fill"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0zm-1 .724c-2.067.95-4.539 1.481-7 1.656v6.237a25 25 0 0 1 1.088.085c2.053.204 4.038.668 5.912 1.56zm-8 7.841V4.934c-.68.027-1.399.043-2.008.053A2.02 2.02 0 0 0 0 7v2c0 1.106.896 1.996 1.994 2.009l.496.008a64 64 0 0 1 1.51.048m1.39 1.081q.428.032.85.078l.253 1.69a1 1 0 0 1-.983 1.187h-.548a1 1 0 0 1-.916-.599l-1.314-2.48a66 66 0 0 1 1.692.064q.491.026.966.06"
                    />
                  </svg>
                  &nbsp;Express Interest
                </span>

                <!-- Loader (hidden initially) -->
                <div
                  id="buttonLoader"
                  class="spinner-border spinner-border-sm"
                  role="status"
                  style="
                    display: none;
                    position: absolute;
                    top: 50%;
                    right: 10px;
                    transform: translateY(-50%);
                  "
                ></div>
              </button>
            </div>
            <div class="col-12 col-md-6 mt-3">
              <a href="#" id="investorID">
                <button
                  class="btn btn-outline-primary w-100"
                  style="height: 3.1rem"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-messenger"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M0 7.76C0 3.301 3.493 0 8 0s8 3.301 8 7.76-3.493 7.76-8 7.76c-.81 0-1.586-.107-2.316-.307a.64.64 0 0 0-.427.03l-1.588.702a.64.64 0 0 1-.898-.566l-.044-1.423a.64.64 0 0 0-.215-.456C.956 12.108 0 10.092 0 7.76m5.546-1.459-2.35 3.728c-.225.358.214.761.551.506l2.525-1.916a.48.48 0 0 1 .578-.002l1.869 1.402a1.2 1.2 0 0 0 1.735-.32l2.35-3.728c.226-.358-.214-.761-.551-.506L9.728 7.381a.48.48 0 0 1-.578.002L7.281 5.98a1.2 1.2 0 0 0-1.735.32z"
                    />
                  </svg>
                  Message
                </button></a
              >
            </div>
          </div>
        </div>

        <div
          class="row justify-content-center"
          style="margin-top: 5rem; margin-bottom: 5rem"
        >
          <!-- Left side - Table -->
          <div
            class="col-12 col-md-5 d-flex align-items-center justify-content-center"
          >
            <table class="table table-bordered table-hover w-100">
              <tbody>
                <tr>
                  <td
                    class="text-end text-primary align-middle"
                    style="width: 40%"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="22"
                      height="25"
                      fill="currentColor"
                      class="bi bi-file-earmark-bar-graph-fill"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1m.5 10v-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5m-2.5.5a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5zm-3 0a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5z"
                      />
                    </svg>
                    &nbsp;Worked With
                  </td>
                  <td id="investorCompanyname" class="align-middle">
                    : ABC Firm
                  </td>
                </tr>
                <tr>
                  <td class="text-end text-primary align-middle">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="22"
                      height="25"
                      fill="currentColor"
                      class="bi bi-mortarboard-fill"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917z"
                      />
                      <path
                        d="M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466z"
                      />
                    </svg>
                    &nbsp;Education
                  </td>
                  <td id="investorEducationdetails" class="align-middle">
                    : Masters Degree, Harvard University
                  </td>
                </tr>
                <tr>
                  <td class="text-end text-primary align-middle">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="22"
                      height="25"
                      fill="currentColor"
                      class="bi bi-star-fill"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
                      />
                    </svg>
                    &nbsp;Experience
                  </td>
                  <td id="investorExperience" class="align-middle">
                    : 5+ years
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Right side - Description -->
          <div
            class="col-12 col-md-5 d-flex align-items-center justify-content-center"
          >
            <div class="text-center">
              <h3 class="text-primary mb-3">About</h3>
              <p
                id="investorDescription"
                class="lead"
                style="font-size: 1.2rem"
              >
                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                Praesent scelerisque, turpis vel fringilla malesuada, quam nunc
                tincidunt nisi, vel venenatis dui purus vel risus.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="text-white p-5 mt-5"
      style="background-color: black"
      id="contact"
    >
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <div class="d-flex gap-2">
              <img src="Images/logo.PNG" style="height: 2.5rem" />
              <a
                class="navbar-brand"
                href="index.html"
                style="font-size: x-large"
                >BRANDNEERS</a
              >
            </div>
            <p class="mt-4">
              We started with an idea of supporting idea generators across
              Australia, India, and Canada. We are creating the largest
              community of entrepreneurs and investors globally through
              education and technology. We want to build the worldâ€™s largest
              integrated incubator.
            </p>
            <div class="d-flex mb-5 mt-5">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-facebook"
                viewBox="0 0 16 16"
              >
                <path
                  d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"
                />
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-twitter social"
                viewBox="0 0 16 16"
              >
                <path
                  d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334q.002-.211-.006-.422A6.7 6.7 0 0 0 16 3.542a6.7 6.7 0 0 1-1.889.518 3.3 3.3 0 0 0 1.447-1.817 6.5 6.5 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.32 9.32 0 0 1-6.767-3.429 3.29 3.29 0 0 0 1.018 4.382A3.3 3.3 0 0 1 .64 6.575v.045a3.29 3.29 0 0 0 2.632 3.218 3.2 3.2 0 0 1-.865.115 3 3 0 0 1-.614-.057 3.28 3.28 0 0 0 3.067 2.277A6.6 6.6 0 0 1 .78 13.58a6 6 0 0 1-.78-.045A9.34 9.34 0 0 0 5.026 15"
                />
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-linkedin social"
                viewBox="0 0 16 16"
              >
                <path
                  d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"
                />
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-instagram social"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.231.047s-2.389-.009-3.232-.047c-.78-.035-1.203-.166-1.485-.276a2.47 2.47 0 0 1-.92-.598 2.48 2.48 0 0 1-.598-.92c-.11-.281-.24-.704-.276-1.485-.038-.843-.047-1.096-.047-3.231s.009-2.388.047-3.231c.036-.78.166-1.203.276-1.485.145-.373.318-.64.598-.92.28-.28.546-.453.92-.599.282-.109.705-.24 1.485-.275.843-.039 1.096-.046 3.232-.046zm.002 2.617a4.541 4.541 0 1 0 0 9.082 4.541 4.541 0 0 0 0-9.082zm0 7.497a2.956 2.956 0 1 1 0-5.912 2.956 2.956 0 0 1 0 5.912zm5.876-7.682a1.067 1.067 0 1 1-2.135 0 1.067 1.067 0 0 1 2.135 0z"
                />
              </svg>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row mt-2">
              <div class="col-md-4">
                <h3 class="h5 font-weight-bold">Pages</h3>
                <ul class="list-unstyled">
                  <li class="mb-2">
                    <a href="index.html" class="text-white text-decoration-none"
                      >Home</a
                    >
                  </li>
                  <li class="mb-2">
                    <a href="#blogs" class="text-white text-decoration-none"
                      >Blog</a
                    >
                  </li>
                  <li class="mb-2">
                    <a
                      href="AboutUs.html"
                      class="text-white text-decoration-none"
                      >About</a
                    >
                  </li>
                </ul>
              </div>
              <div class="col-md-4">
                <h3 class="h5 font-weight-bold">Contact</h3>
                <ul class="list-unstyled">
                  <li class="mb-2">
                    <a href="#" class="text-white text-decoration-none"
                      >Techninza@gmail.com</a
                    >
                  </li>
                  <li class="mb-2">
                    <a href="#" class="text-white text-decoration-none"
                      >9943567065</a
                    >
                  </li>
                </ul>
              </div>
              <div class="col-md-4">
                <h3 class="h5 font-weight-bold">Address</h3>
                <ul class="list-unstyled">
                  <li class="mb-2">
                    <a href="#" class="text-white text-decoration-none"
                      >3rd Floor, KNS Rana Tower, A, Block A, New Palam Vihar
                      Phase 1, Sector 110, Gurugram, Haryana 122017</a
                    >
                  </li>
                </ul>
              </div>
            </div>
            <div></div>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
      function updateNavbar() {
        const token = localStorage.getItem("token");
        const loginLink = document.getElementById("loginLink");
        const logoutLink = document.getElementById("logoutLink");
        const profileDropdown = document.getElementById("profileDropdown");

        if (token) {
          loginLink.style.display = "none";
          logoutLink.style.display = "block";
          profileDropdown.style.display = "block";
        } else {
          loginLink.style.display = "block";
          logoutLink.style.display = "none";
          profileDropdown.style.display = "none";
        }
      }

      async function updateUserNavigation(token) {
        try {
          const response = await axios.get(
            "http://103.119.171.20:3000/check/role",
            {
              headers: {
                Authorization: `Bearer ${token}`,
              },
            }
          );

          if (response.status === 200) {
            const userType = response.data.role;
            console.log("usertype:", userType);

            // Show the appropriate profile link
            const investorProfile = document.getElementById("investorprofile");
            const entrepreneurProfile = document.getElementById(
              "entrepreneurprofile"
            );

            console.log(userType === "entrepreneur");
            if (userType === "entrepreneur") {
              entrepreneurProfile.style.display = "block";
              investorProfile.style.display = "none";
              // document.getElementById("entrepreneurSection").style.display =
              //   "block";
              // document.getElementById("wallet1").innerText =`Wallet: (${response.data.wallet})`

              document.getElementById("mycourse").style.display = "block";

              // document.getElementById("investorSection").style.display = "none";
              // Hide Entrepreneur Ideas and Entrepreneur List from entrepreneurs
              document.getElementById("entrepreneurIdea").style.display =
                "none";
              document.getElementById("entrepreneurList").style.display =
                "none";

              // Show Investor Ideas and Investor List to entrepreneurs
              // document.getElementById("investorIdea").style.display = "block";
              document.getElementById("investorlist").style.display = "block";

              // Show the success section only to entrepreneurs
              // document.getElementById("sucessSection").style.display = "block";

              console.log("response");
              // Show Course, Resources, and ConsultUs sections for entrepreneurs
              document.getElementById("courseSection").style.display = "block";
              document.getElementById("resourceSection").style.display =
                "block";
              document.getElementById("consultUsSection").style.display =
                "block"; // Ensure ConsultUs is displayed
            } else if (userType === "investor") {
              investorProfile.style.display = "block";
              entrepreneurProfile.style.display = "none";
              document.getElementById("entrepreneurSection").style.display =
                "none";
              document.getElementById("investorSection").style.display =
                "block";

              // Show Entrepreneur Ideas and Entrepreneur List for investors
              document.getElementById("entrepreneurIdea").style.display =
                "block";
              document.getElementById("entrepreneurList").style.display =
                "block";

              // Hide Investor Ideas and Investor List from investors
              document.getElementById("investorIdea").style.display = "none";
              document.getElementById("investorlist").style.display = "none";

              // Hide Course, Resources, and ConsultUs sections from investors if needed
              document.getElementById("courseSection").style.display = "none";
              document.getElementById("resourceSection").style.display = "none";
              console.log("Course section");
              document.getElementById("consultUsSection").style.display =
                "none";
              // Hide the success section from investors
              document.getElementById("sucessSection").style.display = "none";
            } else {
              entrepreneurProfile.style.display = "none";
              investorProfile.style.display = "none";
              document.getElementById("entrepreneurSection").style.display =
                "none";
              document.getElementById("investorSection").style.display = "none";
            }
          } else {
            console.error("Failed to fetch user type:", response.statusText);
          }
        } catch (error) {
          console.error("Error:", error);
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        const token = localStorage.getItem("token");

        updateNavbar();

        if (token) {
          updateUserNavigation(token);
        } else {
          // If no one is logged in, show the Consult Us section but disable the link
          document.getElementById("consultUsSection").style.display = "block";
          document.getElementById("consultLink").setAttribute("href", "#"); // Disable access without login
          document
            .getElementById("consultLink")
            .addEventListener("click", function (event) {
              event.preventDefault();
              alert("Please Log in");
              // open login page
              window.location.href = "login.html";
            });
        }
      });

      async function handleLogout() {
        try {
          const response = await axios.post(
            "http://103.119.171.20:3000/auth/logout"
          );
          alert(response.data.message);
          localStorage.removeItem("token");
          window.location.href = "index.html";
        } catch (error) {
          console.error("Logout error:", error);
          alert("Logout failed. Please try again.");
        }
      }

      document
        .getElementById("logoutLink")
        .addEventListener("click", function (event) {
          event.preventDefault(); // Prevent default link behavior
          handleLogout(); // Call the logout function when link is clicked
        });
    </script>
    <script>
      // on clink consultsus open loagin

      document
        .getElementById("log1")
        .addEventListener("click", function (event) {
          event.preventDefault(); // Prevent default link behavior
          window.location.href = "login.html"; // Redirect to login page
        });
    </script>

    <script>
      function getQueryParams() {
        const params = new URLSearchParams(window.location.search);
        return Object.fromEntries(params.entries());
      }

      let investorId = null; // Define globally to use later

      // Fetch investor details from server
      async function fetchInvestorDetails() {
        try {
          const token = localStorage.getItem("token");
          if (!token) {
            console.error("Token not found");
            return;
          }

          const params = getQueryParams();
          investorId = params.id; // Store investorId globally

          const response = await axios.get(
            `http://103.119.171.20:3000/entrepreneur/investor/${investorId}`,
            {
              headers: {
                Authorization: `Bearer ${token}`,
              },
            }
          );
          console.log(response);
          const data = response.data;

          if (response.status !== 200) {
            throw new Error(data.message || "Failed to fetch investor details");
          }

          const { investor } = data;
          document.getElementById("Profile1").src = investor.profileImage;
          document.getElementById("investorName").textContent = investor.name;
          document.getElementById("investorRole").textContent = investor.role;
          document.getElementById("investorEducationdetails").textContent =
            investor.educationdetails;
          document.getElementById("investorCompanyname").textContent =
            investor.companyname;
          document.getElementById("investorCompany").textContent =
            investor.companyname;
          document.getElementById("investorDescription").textContent =
            investor.description;
          document.getElementById("investorExperience").textContent =
            investor.experience;
          document.getElementById(
            "investorID"
          ).href = `EntrepreneurChatBox.html?id=${investor._id}`;
        } catch (error) {
          console.error("Error fetching investor details:", error.message);
        }
      }

      // Call fetchInvestorDetails when page loads
      window.onload = fetchInvestorDetails;

      function expressInterest() {
        const button = document.getElementById("expressInterestBtn");
        const buttonText = document.getElementById("buttonText");
        const buttonLoader = document.getElementById("buttonLoader");

        // Show loader and disable button
        buttonLoader.style.display = "inline-block";
        button.disabled = true;

        // Get the token and ensure it's available
        const token = localStorage.getItem("token");
        if (!token) {
          console.error("Token not found");
          buttonText.innerHTML = "Token missing!";
          return;
        }

        // Ensure investorId is available
        if (!investorId) {
          console.error("Investor ID not found");
          buttonText.innerHTML = "Investor ID missing!";
          return;
        }

        // POST request to express interest
        fetch(
          `http://103.119.171.20:3000/entrepreneur/express-interest/${investorId}`,
          {
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${token}`, // Send token in headers
            },
          }
        )
          .then((data) => {
            console.log(data);
            if (data.status === 200) {
              // On success
              buttonText.innerHTML = "Email Sent Successfully";
              button.classList.remove("btn-outline-danger");
              button.classList.add("btn-danger");
            } else {
              // Handle any errors
              buttonText.innerHTML = "Error Sending Email";
            }
          })
          .catch((error) => {
            // Catch any fetch errors
            buttonText.innerHTML = "Failed to send request";
            console.error("Express Interest Error:", error);
          })
          .finally(() => {
            // Hide loader and re-enable button after response
            buttonLoader.style.display = "none";
            button.disabled = false;
          });
      }
    </script>
  </body>
</html>
